function accordionToggleAll(a){accordion.accordionToggleAll(a)}function accordionToggle(a,b,c,d){accordion.accordionToggle(a,b,c,d)}function setAccordion(a){accordion.setAccordion(a)}jQuery.cookie=function(a,b,c){if(typeof b!="undefined"){c=c||{};if(b===null){b="";c.expires=-1}var d="";if(c.expires&&(typeof c.expires=="number"||c.expires.toUTCString)){var e;if(typeof c.expires=="number"){e=new Date;e.setTime(e.getTime()+c.expires*24*60*60*1e3)}else{e=c.expires}d="; expires="+e.toUTCString()}var f=c.path?"; path="+c.path:"";var g=c.domain?"; domain="+c.domain:"";var h=c.secure?"; secure":"";document.cookie=[a,"=",encodeURIComponent(b),d,f,g,h].join("")}else{var i=null;if(document.cookie&&document.cookie!=""){var j=document.cookie.split(";");for(var k=0;k<j.length;k++){var l=jQuery.trim(j[k]);if(l.substring(0,a.length+1)==a+"="){i=decodeURIComponent(l.substring(a.length+1));break}}}return i}};var accordion={define:{css_open:"toggle_open",css_close:"toggle_close"},getAccordionBodys:function(a){return $("div.acc_body_"+a)},getAccordionToggles:function(a){return $("span.acc_tgl_"+a)},accordionOpen:function(a,b,c,d){if(a.hasClass(this.define.css_open)){return}this.accordionToggle(a,b,c,d)},accordionClose:function(a,b,c,d){if(a.hasClass(this.define.css_close)){return}this.accordionToggle(a,b,c,d)},setAccordion:function(a){$(document).ready(function(){var b="acc_"+a;var c=accordion;var d=accordion.getAccordionBodys(a);var e=accordion.getAccordionToggles(a);e.click(function(){var a=e.index(this);c.accordionToggle(e.eq(a),d.eq(a),b,a)}).css("cursor","pointer")})},accordionToggle:function(a,b,c,d){a.toggleClass(this.define.css_close).toggleClass(this.define.css_open);b.slideToggle("fast");var e=parseInt($.cookie(c));if(e){if(e&1<<d){if(e==0){$.cookie(c,null,{path:"/"})}else{e=e&~(1<<d);$.cookie(c,e,{expires:7,path:"/"})}}else{$.cookie(c,e|1<<d,{expires:7,path:"/"})}}else{$.cookie(c,1<<d,{expires:7,path:"/"})}},accordionToggleAll:function(a){$(document).ready(function(){var b=accordion;$("#acc_opt_"+a).click(function(){var c=accordion.getAccordionBodys(a);if(0==c.size()){return}var d=accordion.getAccordionToggles(a);var e="acc_"+a;var f=parseInt($.cookie(e));var g=d.eq(0).hasClass(b.define.css_close);c.each(function(){var a=c.index(this);if(g){b.accordionOpen(d.eq(a),c.eq(a),e,a)}else{b.accordionClose(d.eq(a),c.eq(a),e,a)}})})})}};var scrolltotop={define:{scrollId:"#ScrollPageTop"},setting:{startline:640},state:{isvisible:false,shouldvisible:false},togglecontrol:function(){var a=$(window).scrollTop();this.state.shouldvisible=a>=this.setting.startline?true:false;if(this.state.shouldvisible&&!this.state.isvisible){$(this.define.scrollId).fadeIn("slow");this.state.isvisible=true}else if(this.state.shouldvisible==false&&this.state.isvisible){$(this.define.scrollId).fadeOut("slow");this.state.isvisible=false}},init:function(a){$(document).ready(function(b){var c=scrolltotop;c.setting.startline=a;jQuery(c.define.scrollId).hide();b(window).bind("scroll resize",function(a){c.togglecontrol()})})}};var table_edit={toggle_edit:function(a){var b=$("table#table_edit_t_"+a.no+"_"+this.page_replace_rule(a.page));if(a.s){if(a.td_edit){var c=b.find("thead");if(1==c.children("tr").length){c.hide()}else{c.find("tr:first-child").remove()}}if(a.tr_edit){b.find("* > tr > *:last-child").hide()}}else{var d=b.clone();if(a.tr_edit){d.find("* > tr > *:last-child").show()}if(a.td_edit){d.find(".sorting,.sorting_asc,.sorting_desc").removeClass("sorting sorting_asc sorting_desc");d=this.add_thead(d,a)}if(a.td_edit_reset_sort){d.find("thead > tr > *").removeClass("header headerSortUp headerSortDown")}b.children().remove();b.append(d.children())}},remove_thead:function(a){var b=a.find("thead:first-child > tr");var c="";if(1==b.length){c="thead:first-child"}else{c="thead:first-child > tr:first-child"}a.find(c).hide()},add_row_edit_button:function(a,b){var c="";for(var d=1;d<=b;d++){var e="?plugin=table_edit2&refer="+a.page+"&edit_mod=tdshow&table_num="+a.no+"&table_sub_num=1&line_count="+a.lc+"&cell_count="+d;c+='<th class="style_th" style="white-space:nowrap;"><a href="'+e+'"><img src="./image/common/plus/paraedit.png"></a><a href="'+e+'&add_show=1"><img src="./image/common/plus/mini_add.png"></a></th>'}return c+""},add_thead:function(a,b){var c=a.children("thead:first-child");var d=false;var e=null;if(1==c.length){if("none"==c.css("display")){c.show();return a}e=c;d=true}else{e=a}var f=0;a.find("*:first-child > tr:first-child > *").each(function(){if("none"==$(this).css("display")){return}var a=$(this).attr("colspan");if(null==a){f++;return}f+=parseInt(a)});var g=this.add_row_edit_button(b,f-(b.tr_edit?1:0));if(b.tr_edit){g+='<th class="style_th"></th>'}g="<tr>"+g+"</tr>";if(!d){g="<thead>"+g+"</thead>"}e.prepend(g);return a},sort:function(a){var b={aaSorting:[],bPaginate:false,bInfo:false,bAutoWidth:false,bLengthChange:false,bFilter:a.filter,bSort:a.sort};if(a.d){b["bDestroy"]=true}if(a.shlc){$("table#table_edit_t_"+a.no+"_"+this.page_replace_rule(a.page)).dataTable(b).find("thead > tr > *:last-child,,tfoot > tr > *:last-child").show()}else{$("table#table_edit_t_"+a.no+"_"+this.page_replace_rule(a.page)).dataTable(b)}},page_replace_rule:function(a){return a.replace(/[%.]/g,"_")}}
